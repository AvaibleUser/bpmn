<div class="text-center mb-6">
  <h1 class="text-3xl font-bold text-primary">Registro</h1>
</div>

<form [formGroup]="registerForm" (ngSubmit)="register()" class="space-y-5">
  <fieldset class="fieldset">
    <legend class="fieldset-legend">
      <span>Nombre de Usuario</span>
    </legend>
    <input
      type="text"
      formControlName="username"
      name="username"
      minlength="3"
      maxlength="30"
      class="input input-bordered w-full"
      [class.input-error]="checkField('username')"
    />
  </fieldset>

  <fieldset class="fieldset">
    <legend class="fieldset-legend">
      <span>Correo Electr칩nico</span>
    </legend>
    <input
      type="email"
      formControlName="email"
      name="email"
      minlength="3"
      class="input input-bordered w-full"
      [class.input-error]="checkField('email')"
    />
  </fieldset>

  <fieldset class="fieldset">
    <legend class="fieldset-legend">
      <span>Nombres</span>
    </legend>
    <input
      type="text"
      formControlName="firstname"
      name="firstname"
      minlength="3"
      maxlength="30"
      class="input input-bordered w-full"
      [class.input-error]="checkField('firstname')"
    />
  </fieldset>

  <fieldset class="fieldset">
    <legend class="fieldset-legend">
      <span>Apellidos</span>
    </legend>
    <input
      type="text"
      formControlName="lastname"
      name="lastname"
      minlength="3"
      maxlength="30"
      class="input input-bordered w-full"
      [class.input-error]="checkField('lastname')"
    />
  </fieldset>

  <fieldset class="fieldset relative">
    <legend class="fieldset-legend">
      <span>Contrase침a</span>
    </legend>
    <input
      [type]="showPassword() ? 'text' : 'password'"
      formControlName="password"
      name="password"
      minlength="2"
      class="input input-bordered w-full"
      [class.input-error]="checkField('password')"
    />

    <button
      type="button"
      class="absolute right-1 bottom-3 btn btn-ghost btn-circle btn-accent btn-xs z-50"
      (click)="showPassword.set(!showPassword())"
    >
      <i-lucide [img]="showPassword() ? invisible : visible" size="18" />
    </button>
  </fieldset>

  <fieldset class="fieldset relative">
    <legend class="fieldset-legend">
      <span>Confirmaci칩n de Contrase침a</span>
    </legend>
    <input
      [type]="showPassword() ? 'text' : 'password'"
      formControlName="confirm"
      name="confirm"
      minlength="2"
      class="input input-bordered w-full"
      [class.input-error]="checkField('password')"
    />

    <button
      type="button"
      class="absolute right-1 bottom-3 btn btn-ghost btn-circle btn-accent btn-xs z-50"
      (click)="showPassword.set(!showPassword())"
    >
      <i-lucide [img]="showPassword() ? invisible : visible" size="18" />
    </button>
  </fieldset>

  <button
    type="submit"
    class="btn w-full font-semibold"
    [class.btn-primary]="!waiting()"
    [class.btn-disabled]="waiting()"
  >
    @if (waiting()) {
    <span class="loading loading-dots loading-xs"></span>
    } @else { Registrarse }
  </button>

  <div class="text-end">
    <a class="text-sm a-ghost" routerLink="/auth/login">Ya tengo una cuenta</a>
  </div>
</form>
